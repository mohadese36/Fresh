/* ============== پایه صفحه ============== */
/* تیتر Checkout: عرض = عرض متن، در موبایل وسط، در دسکتاپ چپ */
/* .checkout-title {margin-bottom: 1rem !important;} */
.checkout-title,
.cart-title{
  display: table;                     /* shrink-to-fit = عرض به اندازه متن */
  margin-inline: auto;          /* پیش‌فرض: وسط */
  position: relative;
  font-size: clamp(1.4rem, 1.2vw + .5rem, 2.2rem);
  font-weight: 800;
  color: var(--heading-olive);
  line-height: 1.2;
}

/* از 992px به بالا: چپ‌چین واقعی */
@media (min-width: 992px){
  .checkout-title,
  .cart-title{
    margin-inline-start: 0;           
    margin-inline-end: 0;
  }
}

/* خط هم‌عرض متن، دقیقا زیرش */
.checkout-title::after,
.cart-title::after{
  content: "";
  display: block;                     /* بدون absolute، ضد باگ */
  width: 100%;                        /* چون h2 به اندازه متن است → خط هم هم‌عرض متن */
  height: clamp(2px, .25vw, 3px);
  margin-top: clamp(.25rem, .2rem + .4vw, .35rem);
  border-radius: 2px;
  background: var(--grad-brand);      /* از پالت خودت */
}


section .card {
  border: 1px solid var(--border-1);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
}

/* ============== هدر کارت‌ها ============== */
section .card-header {
  position: relative;
  display: flex;
  align-items: center;
  gap: clamp(.35rem, .3rem + .4vw, .6rem);
  padding: clamp(.7rem, .5rem + .6vw, 1rem) clamp(1rem, .8rem + 1vw, 1.4rem);
  background: var(--surface-1);
  border-bottom: 1px solid var(--border-1);
}

section .card-header::after {
  content:"";
  position:absolute;
  inset-inline:0; bottom:0;
  height: 3px;
  opacity:.18;
  background: var(--grad-brand);
}

/* ============== حالت خاص هر کارت ============== */
/* Basket (Order Summary) */
.basket-card {
  background: var(--meat-cream-50);
  border-color: var(--meat-cream-200);
}
.basket-card .card-header {
  border-bottom-color: var(--meat-cream-200);
}
section .card-header svg {
  font-size: clamp(1rem, .95rem + .3vw, 1.45rem);
  color: var(--amber-600);
}
.basket-card .card-header strong {
  color: var(--meat-brown-700); /* قهوه‌ای شکلاتی */
  font-weight: 800;
  font-size: clamp(1.1rem, 1rem + .5vw, 1.5rem);
  letter-spacing: .3px;
}
.basket-card #checkout-items .basket-item {
  background: var(--amber-100);
  border: 1px solid var(--card-accent-border);
}

.basket-card:hover {
  box-shadow: 0 10px 28px rgba(16,24,40,.10) !important;
}

/* Payment */
.payment-card {
  background: color-mix(in srgb, var(--brand-100) 75%, var(--surface-1));
  border-color: color-mix(in srgb, var(--brand-600) 15%, var(--border-1));
  box-shadow: var(--shadow-md);
}
.payment-card .card-header {
  border-bottom-color: color-mix(in srgb, var(--brand-600) 20%, var(--border-1));
}
.payment-card .card-header svg {
  color: var(--brand-600); /* سبز اعتماد */
}
.payment-card .card-header strong {
  color: var(--meat-olive-800); /* زیتونی تیره */
  font-weight: 800;
  font-size: clamp(1.1rem, 1rem + .5vw, 1.5rem);
  letter-spacing: .3px;
}
.payment-card:hover {
  box-shadow: 0 10px 28px rgba(16,24,40,.10) !important;
}

/* Badge امنیتی */
.payment-card .badge {
    background: var(--brand-100) !important;
    color: var(--brand-700) !important;
    border: 1px solid
    color-mix(in srgb, var(--brand-600) 22%, transparent);
    padding: clamp(.25rem, .2rem + .3vw, .4rem) clamp(.45rem, .35rem + .4vw, .6rem);
    border-radius: 999px;
    font-size: clamp(.78rem, .72rem + .25vw, .9rem);
}

/* ============== لیست سبد (Basket Items) ============== */
#checkout-items .basket-item {
  padding: clamp(.7rem, .5rem + .7vw, 1rem);
  border-radius: var(--radius-md);
  box-shadow: inset 0 0 0 1px rgba(16,24,40,.03);
}
#checkout-items .basket-item .row { align-items: stretch !important; }
#checkout-items .basket-item .col-3 {
  display:flex; align-items:center; justify-content:center;
}
#checkout-items .basket-item img {
  display:block;
  width:100%;
  aspect-ratio: 1/1;
  object-fit:cover;
  border-radius: clamp(8px, .6vw, 12px);
  box-shadow: 0 4px 14px rgba(0,0,0,.08);
}
@media (min-width:576px) {
  #checkout-items .basket-item img { aspect-ratio: 4/3; }
}

/* تیتر محصول */
#checkout-items .basket-item .card-title {
  font-size: clamp(1.2rem, 1rem + 1vw, 2rem);
  line-height: 1.35;
  margin:0;
  font-weight:700;
  color: var(--brand-800);
}



/* ستون راست */
#checkout-items .basket-item .col-3.text-end {
  display:flex;
  flex-direction:column;
  justify-content:flex-end;
  align-items:flex-end;
  gap: clamp(.1rem, .08rem + .3vw, .25rem);
  padding: clamp(.35rem, .25rem + .5vw, .6rem);
}

/* قیمت × تعداد و Total */
#checkout-items .basket-item .price-xqty {
  margin:0;
  line-height:1.3;
  font-weight:700;
  font-size: clamp(1.05rem, 0.9rem + 0.8vw, 1.6rem);
  color: var(--brand-800);
}
#checkout-items .basket-item .line-total {
  display:block;
  font-weight:700;
  font-size: clamp(.9rem, .8rem + .5vw, 1.6rem);
  color: var(--price-strong);
  opacity:.9;
}
/* حذف هر pseudo قدیمی برای "Total" */
#checkout-items .text-end p::before,
#checkout-items .text-end *::before {
  content:none !important;
}

/* ============== کارت پرداخت (Payment Form) ============== */
.payment-card .card-body { padding: clamp(1rem, .8rem + 1vw, 1.6rem); }

.payment-card .form-label {
  font-size: clamp(.95rem, .9rem + .25vw, 1.1rem);
  font-weight: 700;
  color: var(--ink-900);
  margin-bottom: clamp(.35rem, .2rem + .4vw, .5rem);
}

.payment-card .input-group-text {
  border: 1px solid color-mix(in srgb, var(--brand-600) 12%, var(--border-1));
  background: var(--brand-100);
  color: var(--brand-700);
  font-size: clamp(1rem, .95rem + .3vw, 1.2rem);
  padding: clamp(.55rem, .45rem + .45vw, .8rem) clamp(.7rem, .55rem + .5vw, 1rem);
  border-start-start-radius: var(--radius-md);
  border-end-start-radius: var(--radius-md);
}

.payment-card .form-control,
.payment-card textarea.form-control {
  padding: clamp(.6rem, .5rem + .5vw, .95rem) clamp(.8rem, .7rem + .6vw, 1.15rem);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-1);
  background: #fff;
  font-size: clamp(1rem, .95rem + .3vw, 1.15rem);
  transition: box-shadow .2s ease, border-color .2s ease, background-color .2s ease;
}
.payment-card .form-control:focus {
  border-color: var(--brand-600);
  box-shadow: 0 0 0 4px var(--btn-primary-ring);
  background: #fff;
  outline:none;
}

/* کمک‌متن CVV */
.payment-card small.text-muted {
  color: var(--ink-500);
  font-size: clamp(.85rem, .8rem + .25vw, 1rem);
}

/* دکمه پرداخت */
.pay-btn {
  margin-top: clamp(.6rem, .5rem + .6vw, 1rem);
  padding: clamp(.7rem, .55rem + .5vw, 1rem) clamp(1rem, .9rem + .8vw, 1.4rem);
  font-size: clamp(1.05rem, .95rem + .35vw, 1.25rem);
  font-weight: 800;
  border-radius: var(--radius-lg);
  border: 1px solid color-mix(in srgb, var(--brand-600) 35%, transparent);
  background: linear-gradient(180deg, var(--brand-600), var(--brand-500));
  color: #fff;
  box-shadow: 0 8px 24px color-mix(in srgb, var(--brand-600) 30%, transparent);
}
.pay-btn:hover {
  filter:brightness(1.03);
  transform: translateY(-1px);
}
.pay-btn:active {
  transform:none;
  box-shadow: 0 5px 16px color-mix(in srgb, var(--brand-600) 22%, transparent);
}

/* ردیف امنیت پایین */
.payment-card .secure-row {
  display:flex;
  align-items:center;
  gap:.5rem;
  padding: clamp(.55rem, .45rem + .4vw, .8rem);
  border-radius: var(--radius-md);
  background: var(--brand-100);
  color: var(--brand-700);
  font-size: clamp(.9rem, .85rem + .25vw, 1rem);
  border: 1px solid color-mix(in srgb, var(--brand-600) 15%, transparent);
}
.payment-card .secure-row i {
  color: var(--brand-600);
}


