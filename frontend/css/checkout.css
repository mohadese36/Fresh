/* ============== پایه صفحه ============== */
.checkout-title,
.cart-title {
  display: table;
  margin-inline: auto;
  position: relative;
  font-size: clamp(1.8rem, 1.5vw + .8rem, 2.8rem);
  font-weight: 800;
  text-transform: uppercase;
  color: var(--heading-olive);
  line-height: 1.2;
}

.checkout-title::after,
.cart-title::after {
  content: "";
  display: block;
  width: 100%;
  height: clamp(2px, .25vw, 3px);
  margin-top: clamp(.25rem, .2rem + .4vw, .35rem);
  border-radius: 2px;
  background: var(--grad-brand);
}

section .card {
  border: 1px solid var(--border-1);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
}

/* ============== هدر کارت‌ها ============== */
section .card-header {
  position: relative;
  display: flex;
  align-items: center;
  gap: clamp(.35rem, .3rem + .4vw, .6rem);
  padding: clamp(.7rem, .5rem + .6vw, 1rem) clamp(1rem, .8rem + 1vw, 1.4rem);
  background: var(--surface-1);
  border-bottom: 1px solid var(--border-1);
}

section .card-header::after {
  content: "";
  position: absolute;
  inset-inline: 0;
  bottom: 0;
  height: 3px;
  opacity: .18;
  background: var(--grad-brand);
}

/* ============== کارت Basket ============== */
.basket-card {
  background: var(--meat-cream-50);
  border-color: var(--meat-cream-200);
}

.basket-card .card-header {
  border-bottom-color: var(--meat-cream-200);
}

section .card-header svg {
  font-size: clamp(1rem, .95rem + .3vw, 1.45rem);
  color: var(--amber-600);
}

.basket-card .card-header strong {
  color: var(--meat-brown-700);
  font-weight: 800;
  font-size: clamp(1.1rem, 1rem + .5vw, 1.5rem);
  letter-spacing: .3px;
}

.basket-card #checkout-items .basket-item {
  background: var(--amber-100);
  border: 1px solid var(--card-accent-border);
}

.basket-card:hover {
  box-shadow: 0 10px 28px rgba(16,24,40,.10) !important;
}

/* ============== کارت Payment ============== */
.payment-card {
  background: color-mix(in srgb, var(--brand-100) 75%, var(--surface-1));
  border-color: color-mix(in srgb, var(--brand-600) 15%, var(--border-1));
  box-shadow: var(--shadow-md);
}
.payment-card .card-header {
  border-bottom-color: color-mix(in srgb, var(--brand-600) 20%, var(--border-1));
}
.payment-card .card-header svg {
  color: var(--brand-600);
}
.payment-card .card-header strong {
  color: var(--meat-olive-800);
  font-weight: 800;
  font-size: clamp(1.1rem, 1rem + .5vw, 1.5rem);
  letter-spacing: .3px;
}
.payment-card:hover {
  box-shadow: 0 10px 28px rgba(16,24,40,.10) !important;
}

/* ============== Badge امنیتی ============== */
.payment-card .badge {
  background: var(--brand-100) !important;
  color: var(--brand-700) !important;
  border: 1px solid color-mix(in srgb, var(--brand-600) 22%, transparent);
  padding: clamp(.25rem, .2rem + .3vw, .4rem) clamp(.45rem, .35rem + .4vw, .6rem);
  border-radius: 999px;
  font-size: clamp(.78rem, .72rem + .25vw, .9rem);
}

/* ============== آیتم‌های سبد خرید ============== */
#checkout-items .basket-item {
  padding: clamp(.7rem, .5rem + .7vw, 1rem);
  border-radius: var(--radius-md);
  box-shadow: inset 0 0 0 1px rgba(16,24,40,.03);
}
#checkout-items .basket-item .row {
  align-items: stretch !important;
}
#checkout-items .basket-item .col-3 {
  display: flex;
  align-items: center;
  justify-content: center;
}
#checkout-items .basket-item img {
  display: block;
  width: 100%;
  aspect-ratio: 1/1;
  object-fit: cover;
  border-radius: clamp(8px, .6vw, 12px);
  box-shadow: 0 4px 14px rgba(0,0,0,.08);
}
#checkout-items .basket-item .card-title {
  font-size: clamp(1.2rem, 1rem + 1vw, 2rem);
  line-height: 1.35;
  margin: 0;
  font-weight: 700;
  color: var(--brand-800);
}
#checkout-items .basket-item .col-3.text-end {
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  align-items: flex-end;
  gap: clamp(.1rem, .08rem + .3vw, .25rem);
  padding: clamp(.35rem, .25rem + .5vw, .6rem);
}
#checkout-items .basket-item .price-xqty {
  margin: 0;
  line-height: 1.3;
  font-weight: 700;
  font-size: clamp(1.05rem, 0.9rem + 0.8vw, 1.6rem);
  color: var(--brand-800);
}
#checkout-items .basket-item .line-total {
  display: block;
  font-weight: 700;
  font-size: clamp(.9rem, .8rem + .5vw, 1.6rem);
  color: var(--price-strong);
  opacity: .9;
}
#checkout-items .text-end p::before,
#checkout-items .text-end *::before {
  content: none !important;
}

/* ============== فرم پرداخت ============== */
.payment-card .card-body {
  padding: clamp(1rem, .8rem + 1vw, 1.6rem);
}
.payment-card .form-label {
  font-size: clamp(.95rem, .9rem + .25vw, 1.1rem);
  font-weight: 700;
  color: var(--ink-900);
  margin-bottom: clamp(.35rem, .2rem + .4vw, .5rem);
}
.payment-card .input-group-text {
  border: 1px solid color-mix(in srgb, var(--brand-600) 12%, var(--border-1));
  background: var(--brand-100);
  color: var(--brand-700);
  font-size: clamp(1rem, .95rem + .3vw, 1.2rem);
  padding: clamp(.55rem, .45rem + .45vw, .8rem) clamp(.7rem, .55rem + .5vw, 1rem);
  border-start-start-radius: var(--radius-md);
  border-end-start-radius: var(--radius-md);
}
.payment-card .form-control,
.payment-card textarea.form-control {
  padding: clamp(.6rem, .5rem + .5vw, .95rem) clamp(.8rem, .7rem + .6vw, 1.15rem);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-1);
  background: var(--surface-1);
  font-size: clamp(1rem, .95rem + .3vw, 1.15rem);
  transition: box-shadow .2s ease, border-color .2s ease, background-color .2s ease;
}
.payment-card .form-control:focus {
  border-color: var(--brand-600);
  box-shadow: 0 0 0 4px var(--btn-primary-ring);
  background: var(--surface-1);
  outline: none;
}
.payment-card small.text-muted {
  color: var(--ink-500);
  font-size: clamp(.85rem, .8rem + .25vw, 1rem);
}

/* ============== دکمه پرداخت ============== */
.pay-btn {
  margin-top: clamp(.6rem, .5rem + .6vw, 1rem);
  padding: clamp(.7rem, .55rem + .5vw, 1rem) clamp(1rem, .9rem + .8vw, 1.4rem);
  font-size: clamp(1.05rem, .95rem + .35vw, 1.25rem);
  font-weight: 800;
  border-radius: var(--radius-lg);
  border: 1px solid color-mix(in srgb, var(--brand-600) 35%, transparent);
  background: linear-gradient(180deg, var(--brand-600), var(--brand-500));
  color: var(--amber-100);
  box-shadow: 0 8px 24px color-mix(in srgb, var(--brand-600) 30%, transparent);
}
.pay-btn:hover {
  filter: brightness(1.03);
  transform: translateY(-1px);
}
.pay-btn:active {
  transform: none;
  box-shadow: 0 5px 16px color-mix(in srgb, var(--brand-600) 22%, transparent);
}

/* ============== ردیف امنیت پایین ============== */
.payment-card .secure-row {
  display: flex;
  align-items: center;
  gap: .5rem;
  padding: clamp(.55rem, .45rem + .4vw, .8rem);
  border-radius: var(--radius-md);
  background: var(--brand-100);
  color: var(--brand-700);
  font-size: clamp(.9rem, .85rem + .25vw, 1rem);
  border: 1px solid color-mix(in srgb, var(--brand-600) 15%, transparent);
}
.payment-card .secure-row i {
  color: var(--brand-600);
}

/* pop up */
/* پاپ‌آپ */
#demoPopup {
  visibility: hidden;
  opacity: 0;
  transform: translate(-50%, -50%) scale(0.85);
  transition: opacity 0.8s cubic-bezier(0.25, 0.1, 0.25, 1),
              transform 0.8s cubic-bezier(0.25, 0.1, 0.25, 1),
              visibility 0.8s ease;
  position: fixed;
  top: 50%;
  left: 50%;
  width: min(92%, 600px);
  background: var(--surface-1);
  border: 2px solid var(--meat-cream-200);
  border-radius: 1.25rem;
  box-shadow: 0 12px 40px rgba(0,0,0,0.25);
  padding: clamp(1.5rem, 3vw, 2.2rem);
  z-index: 9999;
  text-align: center;
  font-family: 'IRANSans', 'Poppins', sans-serif;
}

/* وقتی show فعال می‌شود */
#demoPopup.show {
  visibility: visible;
  opacity: 1;
  transform: translate(-50%, -50%) scale(1);
}

/* تیتر */
#demoPopup h3 {
  font-size: clamp(1.4rem, 2.8vw, 1.9rem);
  font-weight: 700;
  color: var(--brand-700);
  margin-bottom: 1.2rem;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.6rem;
  border-bottom: 2px solid var(--brand-200);
  padding-bottom: 0.5rem;
}

/* متن */
#demoPopup p {
  font-size: clamp(1rem, 2.2vw, 1.2rem);
  line-height: 1.8;
  color: var(--ink-700);
  margin: 0 auto 1.6rem;
  max-width: 95%;
  background: var(--meat-cream-100);
  padding: 0.8rem 1rem;
  border-radius: 0.6rem;
}

/* لینک */
#demoPopup a {
  color: var(--brand-600);
  font-weight: 600;
  text-decoration: none;
  border-bottom: 1px dashed var(--brand-400);
  transition: color 0.3s ease;
}
#demoPopup a:hover {
  color: var(--brand-800);
  border-bottom-color: var(--brand-800);
}

/* دکمه */
#demoPopup button {
  padding: clamp(0.7rem, 2vw, 0.9rem) clamp(1.5rem, 4vw, 2.2rem);
  background: var(--grad-brand);
  color: white;
  border: none;
  border-radius: 0.6rem;
  cursor: pointer;
  font-size: clamp(1rem, 2.4vw, 1.1rem);
  font-weight: 600;
  letter-spacing: 0.3px;
  box-shadow: 0 4px 10px color-mix(in srgb, var(--brand-600) 40%, transparent);
  transition: transform 0.25s ease, box-shadow 0.25s ease, background 0.25s ease;
}
#demoPopup button:hover {
  background: linear-gradient(90deg, var(--brand-700), var(--brand-500));
  transform: translateY(-2px);
  box-shadow: 0 6px 16px color-mix(in srgb, var(--brand-700) 50%, transparent);
}

/* Overlay */
#overlay {
  visibility: hidden;
  opacity: 0;
  transition: opacity 0.8s ease, visibility 0.8s ease;
  position: fixed;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.55);
  backdrop-filter: blur(2px);
  z-index: 9998;
}

/* Overlay در حالت نمایش */
#overlay.show {
  visibility: visible;
  opacity: 1;
}




/* =========================================
   RESPONSIVE — Checkout & Cart Titles
========================================= */

/* =========================================
   ≥576px (SM and above)
   تنظیم نسبت تصویر در آیتم‌های چک‌اوت
========================================= */
@media (min-width: 576px) {
  #checkout-items .basket-item img {
    aspect-ratio: 4 / 3;
  }
}

/* =========================================
   ≥992px (LG and above)
   حذف حاشیه افقی از تیترها در دسکتاپ
========================================= */
@media (min-width: 992px) {
  .checkout-title,
  .cart-title {
    margin-inline-start: 0;
    margin-inline-end: 0;
  }
}

