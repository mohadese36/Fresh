<!-- مسیر: frontend/cart.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Your Cart</title>
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
<link rel="stylesheet" href="vendor/BootStrap/bootstrap.min.css">
<link rel="stylesheet" href="vendor/SwiperSlider/swiper.css">
<link rel="stylesheet" href="vendor/FontAwesome5/all.min.css" />
<link rel="stylesheet" href="css/reset.css">
<link rel="stylesheet" href="css/index.css">
  <!-- استایل ساده مخصوص این صفحه -->
  <style>
    .cart-container {
      max-width: 800px;
      margin: 2rem auto;
      padding: 1rem;
    }
    .cart-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 1rem;
      border-bottom: 1px solid #ddd;
      padding-bottom: 0.5rem;
    }
    .cart-item h4 {
      margin: 0;
    }
    .cart-summary {
      text-align: right;
      font-weight: bold;
      margin-top: 2rem;
    }
    .checkout-btn {
      background-color: #28a745;
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 1rem;
    }
    /*  */
    col-right {
    max-width: 300px;
    }

    .sticky {
    position: sticky;
    position
: -webkit-sticky;
    top: 10px;
    max-height: 98vh;
    width: 100%;
}

.text-center {
    text-align: center !important;
}
.py-2 {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
}
.side-basket-content-head, .side-basket-content-foot {
    text-align: center;
}
.basket-guide-price {
    font-weight: bold;
}
.side-basket-content-body {
    overflow-y: scroll;
}

  </style>
</head>
<body>
    <!-- Start Header -->
    <header class="header">
    <div class="top-bar">
        <div class="container-fluid">
            <div class="top-bar__content">
                <div class="top-bar__right"></div>
                <div class="top-bar__left">
                    <a href="#" class="main-header__search-bt">
                        <i class="fas fa-search main-header__search-icon"></i>
                    </a>
                    <a href="cart.html" class="cart-icon">
                      <i class="fas fa-shopping-cart"></i>
                      <span id="cart-count" class="cart-count">0</span>
                    </a>

                    <!-- <a href="#" class="main-header__cart-btn">
                        <i class="fas fa-shopping-cart main-header__cart-icon"></i>
                    </a> -->
                    <a href="#" class="main-header__profile">
                        <span class="main-header__profile-text">محمد امین سعیدی راد</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="main-header">
        <div>
            <div class="main-header__content">
            <ul id="navbar" class="main-header__menu"></ul>

            <!-- <ul class="main-header__menu" id="navbar">   
                <li class="main-header__item" id="menu-item-1"><span id="menu-span-1"></span>
                <ul class="main-header__dropdown" id="submenu-1">
                    <li id="submenu-item-1"><a href="#special-offers" id="submenu-link-1"><span id="submenu-span-1"></span></a></li>
                    <li id="submenu-item-2"><a href="#new-arrivals" id="submenu-link-2"><span id="submenu-span-2"></span></a></li>
                    <li id="submenu-item-3"><a href="#best-sellers" id="submenu-link-3"><span id="submenu-span-3"></span></a></li>
                    <li id="submenu-item-4"><a href="#discounted-products" id="submenu-link-4"><span id="submenu-span-4"></span></a></li>
                    <li id="submenu-item-5"><a href="#customer-reviews" id="submenu-link-5"><span id="submenu-span-5"></span></a></li>
                    <li id="submenu-item-6"><a href="#contact-us" id="submenu-link-6"><span id="submenu-span-6"></span></a></li>
                </ul>
                </li>
        
                <li class="main-header__item" id="menu-item-2"><span id="menu-span-2"></span>
                <ul class="main-header__dropdown" id="submenu-2">
                    <li id="submenu-item-7"><a href="/products/sausage" id="submenu-link-7"><span id="submenu-span-7"></span></a>
                    <ul id="submenu-sub-2-1">
                        <li id="submenu-sub-item-1"><a href="/products/sausage/red-meat" id="submenu-sub-link-1">  </a></li>
                        <li id="submenu-sub-item-2"><a href="/products/sausage/chicken" id="submenu-sub-link-2"> </a></li>
                        <li id="submenu-sub-item-3"><a href="/products/sausage/hot-dog" id="submenu-sub-link-3"> </a></li>
                        <li id="submenu-sub-item-4"><a href="/products/sausage/smoked" id="submenu-sub-link-4"> </a></li>
                        <li id="submenu-sub-item-5"><a href="/products/sausage/chorizo" id="submenu-sub-link-5"> </a></li>
                        <li id="submenu-sub-item-6"><a href="/products/sausage/pepperoni" id="submenu-sub-link-6"> </a></li>
                    </ul>
                    </li>
        
                    <li id="submenu-item-8"><a href="/products/sausage-varieties" id="submenu-link-8"><span id="submenu-span-8"> </span></a>
                    <ul id="submenu-sub-2-2">
                        <li id="submenu-sub-item-7"><a href="/products/sausage-varieties/red-meat" id="submenu-sub-link-7"></a></li>
                        <li id="submenu-sub-item-8"><a href="/products/sausage-varieties/chicken" id="submenu-sub-link-8"></a></li>
                        <li id="submenu-sub-item-9"><a href="/products/sausage-varieties/hot-dog" id="submenu-sub-link-9"></a></li>
                        <li id="submenu-sub-item-10"><a href="/products/sausage-varieties/smoked" id="submenu-sub-link-10"></a></li>
                        <li id="submenu-sub-item-11"><a href="/products/sausage-varieties/chorizo" id="submenu-sub-link-11"></a></li>
                        <li id="submenu-sub-item-12"><a href="/products/sausage-varieties/pepperoni" id="submenu-sub-link-12"></a></li>
                    </ul>
                    </li>
        
                    <li id="submenu-item-9"><a href="/products/salami" id="submenu-link-9"><span id="submenu-span-9"></span></a>
                    <ul id="submenu-sub-2-3">
                        <li id="submenu-sub-item-13"><a href="/products/salami/beef" id="submenu-sub-link-13"></a></li>
                        <li id="submenu-sub-item-14"><a href="/products/salami/chicken-mushroom" id="submenu-sub-link-14"></a></li>
                        <li id="submenu-sub-item-15"><a href="/products/salami/special-ham" id="submenu-sub-link-15"></a></li>
                        <li id="submenu-sub-item-16"><a href="/products/salami/dry" id="submenu-sub-link-16"></a></li>
                        <li id="submenu-sub-item-17"><a href="/products/salami/special" id="submenu-sub-link-17"></a></li>
                    </ul>
                    </li>
        
                    <li id="submenu-item-10"><a href="/products/burger" id="submenu-link-10"><span id="submenu-span-10"></span></a>
                    <ul id="submenu-sub-2-4">
                        <li id="submenu-sub-item-18"><a href="/products/burger/beef" id="submenu-sub-link-18"></a></li>
                        <li id="submenu-sub-item-19"><a href="/products/burger/chicken" id="submenu-sub-link-19"></a></li>
                        <li id="submenu-sub-item-20"><a href="/products/burger/turkey" id="submenu-sub-link-20"></a></li>
                        <li id="submenu-sub-item-21"><a href="/products/burger/vegan" id="submenu-sub-link-21"></a></li>
                    </ul>
                    </li>
        
                    <li id="submenu-item-11"><a href="/products/diet" id="submenu-link-11"><span id="submenu-span-11"></span></a>
                    <ul id="submenu-sub-2-5">
                        <li id="submenu-sub-item-22"><a href="/products/diet/low-fat-sausage" id="submenu-sub-link-22"></a></li>
                        <li id="submenu-sub-item-23"><a href="/products/diet/low-fat-salami" id="submenu-sub-link-23"></a></li>
                        <li id="submenu-sub-item-24"><a href="/products/diet/protein-burger" id="submenu-sub-link-24"></a></li>
                        <li id="submenu-sub-item-25"><a href="/products/diet/gluten-free" id="submenu-sub-link-25"></a></li>
                    </ul>
                    </li>
                </ul>
                </li>
        
                <li class="main-header__item" id="menu-item-3"><span id="menu-span-3"></span></li>
        
                <li class="main-header__item" id="menu-item-4"><a href="/featured-products" id="menu-link-4"></a>
                <ul class="main-header__dropdown" id="submenu-4">
                    <li id="submenu-item-12"><a href="/featured-products/organic-healthy" id="submenu-link-12"></a></li>
                    <li id="submenu-item-13"><a href="/featured-products/top-categories" id="submenu-link-13"></a></li>
                    <li id="submenu-item-14"><a href="/featured-products/exclusive-store" id="submenu-link-14"></a></li>
                    <li id="submenu-item-15"><a href="/featured-products/unique-features" id="submenu-link-15"></a></li>
                </ul>
                </li>
        
                <li class="main-header__item" id="menu-item-5"><span id="menu-span-5"></span>
                <ul class="main-header__dropdown" id="submenu-5">
                    <li id="submenu-item-16"><span id="submenu-span-16"></span></li>
                    <li id="submenu-item-17"><span id="submenu-span-17"></span></li>
                </ul>
                </li>
            </ul> -->
            </div>
        </div>
    </div>
    </header>
    <!-- Finish Header -->

  <main class="cart-container">
    <h1>Your Basket</h1>
    <div id="cart-items"></div>

        <div>
            <aside>
              <div class="card card-cats-menu sticky">
                <div class=" card-body-basket p-3">
                  <!--  -->
                  <div class="" role="complementary">
                      <div class="card card-basket border-0">
                        <div class="basket-is-empty text-center">
                          <p class="card-text mt-3 mb-1 text-bigger"><i class="bi bi-basket"></i></p>
                          <p class="card-text mb-3">Your basket is empty.</p>
                        </div>

                        <div class="basket-is-not-empty side-basket-content-head" style="display: none;">
                        <div class="row align-items-center pb-2">
                            <div class="col-7">
                                <a class="text-bigger" href="/basket/" title="Go to the 'basket' page where you can make more changes to your basket."><i class="bi bi-basket"></i></a>
                            </div>
                            <div class="col text-left">
                                Guide price: <span class="basket-subtotal-value basket-guide-price">£0.00</span>
                            </div>
                        </div>
                        </div>

                        <div class="basket-is-not-empty table-responsive side-basket-content-body" style="display: none;">
                        <table class="table">
                            <tbody class="basket-items include-price include-ajax-controls"></tbody>
                        </table>
                        </div>

                        <!-- ✅ دکمه رفتن به پرداخت -->
                        <div class="basket-checkout-btn-wrapper" style="padding: 1rem; text-align: center;">
                        <a href="/checkout" class="btn btn-primary btn-block" id="checkout-btn" style="display:none;">
                            Go to Checkout
                        </a>
                        </div>
                      </div>
                  </div>
                  <!--  -->
                </div>
              </div>
            </aside>
        </div>
    

    <!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="vendor/fontAwesome5/all.min.js"></script>
<script src="vendor/SwiperSlider/swiper.js"></script>
<script type="module" src="./js/menu.js"></script>
<script src="js/slider.js"></script>
<script type="module" src="./js/categori.js"></script>
<script type="module" src="./js/cartManager.js"></script>
<script type="module" src="./scripts/cartHandler.js"></script>
 <script type="module" src="./js/productDetails.js"></script>

<!-- Supabase -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<!-- Supabase -->
 <!-- <script type="module">
document.addEventListener('DOMContentLoaded', () => {
    const cartContainer = document.getElementById('cart-items');
    const cartTotal = document.getElementById('cart-total');

    const cart = JSON.parse(localStorage.getItem('cart')) || [];

    if (cart.length === 0) {
    cartContainer.innerHTML = "<p>Your cart is empty.</p>";
    document.querySelector('.checkout-btn').style.display = 'none';
    return;
    }

    let total = 0;

    cart.forEach(product => {
    const itemEl = document.createElement('div');
    itemEl.className = 'cart-item';
    itemEl.innerHTML = `
        <div>
        <h4>${product.name}</h4>
        <p>Quantity: ${product.quantity}</p>
        </div>
        <div>
        <p>$${(product.price * product.quantity).toFixed(2)}</p>
        </div>
    `;
    total += product.price * product.quantity;
    cartContainer.appendChild(itemEl);
    });

    cartTotal.textContent = `$${total.toFixed(2)}`;
});
</script>  -->

</body>
</html>
